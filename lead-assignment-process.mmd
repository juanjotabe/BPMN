# Sistema de Gesti贸n y Asignaci贸n de Leads

Sistema automatizado de asignaci贸n de leads basado en competencias, con Quality Gates y l贸gica de matching flexible.

##  Diagrama BPMN del Proceso
```mermaid
graph TB
    Start([Lead Recibido]) --> Intake[Ingesta de Datos]
    
    Intake --> QG1{Quality Gate<br/>Campos Obligatorios<br/>Completos?}
    
    QG1 -->|No| Reject1[Rechazar Lead]
    Reject1 --> NotifySource[Notificar Fuente<br/>Datos Faltantes]
    NotifySource --> End1([Fin - Lead Rechazado])
    
    QG1 -->|S铆| Validate[Validaci贸n Estructural<br/>y Sem谩ntica]
    
    Validate --> QG2{Datos V谩lidos<br/>y Coherentes?}
    
    QG2 -->|No| ManualQ[Cola de Revisi贸n Manual]
    ManualQ --> HumanReview[Revisi贸n Humana]
    HumanReview --> QG2B{驴Datos Corregidos?}
    QG2B -->|No| End2([Fin - Lead Descartado])
    QG2B -->|S铆| Normalize
    
    QG2 -->|S铆| Normalize[Normalizaci贸n<br/>y Estandarizaci贸n]
    
    Normalize --> Enrich[Enriquecimiento<br/>Datos Externos]
    
    Enrich --> QualityScore[Calcular<br/>Quality Score]
    
    QualityScore --> QG3{Quality Score<br/>>= 70%?}
    
    QG3 -->|No| LowQuality[Marcar como<br/>Baja Calidad]
    LowQuality --> Classify
    
    QG3 -->|S铆| Classify[Clasificaci贸n de Lead]
    
    Classify --> DetermineType[Determinar Tipo:<br/>Premium/Est谩ndar/Baja Cal.]
    
    DetermineType --> ImpactMatrix[Matriz Impacto-Urgencia]
    
    ImpactMatrix --> AssignPriority[Asignar Prioridad<br/>P1/P2/P3/P4]
    
    AssignPriority --> CalcReq[Calcular Requerimientos<br/>de Competencias]
    
    CalcReq --> QueryConsultants[Consultar Disponibilidad<br/>de Consultores]
    
    QueryConsultants --> FilterTeams{Filtrar por<br/>Equipos Permitidos}
    
    FilterTeams --> MatchEngine[Motor de Matching<br/>Calcular Scores]
    
    MatchEngine --> CheckMatch{驴Existe Match<br/>Score >= Threshold?}
    
    CheckMatch -->|No| Fallback{Prioridad<br/>= P1?}
    
    Fallback -->|S铆| Escalate[Escalar a Manager<br/>Asignaci贸n Manual]
    Escalate --> ManualAssign[Asignaci贸n Manual]
    ManualAssign --> RegisterCRM
    
    Fallback -->|No| WaitQueue[A帽adir a Cola<br/>de Espera]
    WaitQueue --> CheckAvail{Revisar cada 5 min<br/>驴Consultor Disponible?}
    CheckAvail -->|No - Timeout| EscalateTimeout[Escalar por<br/>Timeout SLA]
    EscalateTimeout --> Escalate
    CheckAvail -->|S铆| MatchEngine
    
    CheckMatch -->|S铆| ValidateCapacity{Consultor tiene<br/>Capacidad?}
    
    ValidateCapacity -->|No pero P1| OverrideCapacity[Override Capacidad<br/>por Prioridad Cr铆tica]
    OverrideCapacity --> Assign
    
    ValidateCapacity -->|No y No-P1| NextBestMatch[Siguiente Mejor<br/>Match]
    NextBestMatch --> CheckMatch
    
    ValidateCapacity -->|S铆| Assign[Asignar Lead<br/>a Consultor]
    
    Assign --> RegisterCRM[Registrar en CRM]
    
    RegisterCRM --> NotifyConsultant[Notificar<br/>Consultor]
    
    NotifyConsultant --> StartSLA[Iniciar<br/>Tracking SLA]
    
    StartSLA --> UpdateMetrics[Actualizar<br/>M茅tricas]
    
    UpdateMetrics --> LogHistory[Registrar en<br/>Historial]
    
    LogHistory --> MonitorLoop{Monitoreo<br/>Continuo}
    
    MonitorLoop --> CheckSLA[Verificar<br/>Cumplimiento SLA]
    
    CheckSLA --> CheckStatus{Lead<br/>Atendido?}
    
    CheckStatus -->|No - SLA Breach| AlertSLA[Alerta<br/>Incumplimiento SLA]
    AlertSLA --> MonitorLoop
    
    CheckStatus -->|No - Dentro SLA| MonitorLoop
    
    CheckStatus -->|S铆| RecordOutcome[Registrar Resultado<br/>Conversi贸n/Descarte]
    
    RecordOutcome --> UpdateCompetency[Actualizar Hist贸rico<br/>Performance Consultor]
    
    UpdateCompetency --> FinalMetrics[Actualizar<br/>M茅tricas Finales]
    
    FinalMetrics --> End3([Fin - Lead Procesado])
    
    style Start fill:#e1f5e1
    style End1 fill:#ffe1e1
    style End2 fill:#ffe1e1
    style End3 fill:#e1f5e1
    style QG1 fill:#fff4e1
    style QG2 fill:#fff4e1
    style QG3 fill:#fff4e1
    style CheckMatch fill:#e1f0ff
    style Fallback fill:#ffe1f0
    style ValidateCapacity fill:#e1f0ff
    style Assign fill:#d4edda
    style Escalate fill:#f8d7da
    style WaitQueue fill:#fff3cd
```

##  Caracter铆sticas Principales

- **Quality Gates**: 3 niveles de validaci贸n de datos
- **Matching Inteligente**: Basado en competencias (escala 1-5)
- **Priorizaci贸n**: Matriz Impacto-Urgencia (P1-P4)
- **Fallbacks Robustos**: Escalaci贸n y colas de espera
- **Monitoreo**: Tracking SLA en tiempo real

##  Componentes del Sistema

1. **Ingesta y Quality Gate**: Validaci贸n y enriquecimiento de datos
2. **Clasificaci贸n**: Determinaci贸n de tipo y prioridad
3. **Motor de Matching**: Asignaci贸n basada en competencias
4. **Monitoreo**: M茅tricas y seguimiento continuo

##  M茅tricas Clave

- Tiempo medio de asignaci贸n: <5 min
- Tasa de primer match exitoso: >90%
- Cumplimiento SLA P1: 100%
- Quality Score promedio: >85%

---

**Caso de Estudio**: Associate, Efficiency & Process Automation
